<html>
<head>
<title> FIFA World Cup 2014 - Choose Your Own Adventure</title>
<link rel='stylesheet' href='world_cup.css' />
<link rel='stylesheet' href='tabs.css' />
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" ></script>
</head>
<body>
	<div class="tabs">
		<ul class="tab-links">
		</ul>
		
		<div class="tab-content">
		</div>
	</div>
	<div id="buttons">
		<input type="button" id="save" value="Save scores"/>
		<input type="button" id="load" value="Load scores"/>
	</div>
	<script src="toplevel.js"></script>
	<script src="groupStatus.js"></script>
	<script src="world_cup.js"></script>
	<script src="loader.js"></script>
	<script>
		for (var i = 0; i < 8; i++) {
			var groupTab = '<li><a href="#'+2014_Brazil.groups[i].id+'">'+
								'<img src="flags/'+2014_Brazil.groups[i].teams[0].id+'.png">'+
								'<img src="flags/'+2014_Brazil.groups[i].teams[1].id+'.png">'+
								2014_Brazil.groups[i].id+
								'<img src="flags/'+2014_Brazil.groups[i].teams[2].id+'.png">'+
								'<img src="flags/'+2014_Brazil.groups[i].teams[3].id+'.png">'+
						   '</a></li>';
			$('.tab-links').append(groupTab);
			var groupContent = '<div id="'+2014_Brazil.groups[i].id+'" class="tab">'+
								'<div class="matches"></div>'+
								'<div class="groupTable"></div>'+
						   '</div>';
			$('.tab-content').append(groupContent);
			2014_Brazil.groups[i].drawMatches();
			2014_Brazil.groups[i].firstTable();
		}
        $('.tabs .tab-links a').on('click', function(e)  {
            var currentAttrValue = $(this).attr('href');
     
            // Show/Hide Tabs
            $('.tabs ' + currentAttrValue).show().siblings().hide();
     
            // Change/remove current tab to active
            $(this).parent('li').addClass('active').siblings().removeClass('active');
     
            e.preventDefault();
        });
		$(document).on('blur', '.score1, .score2', function() {
			var groupIndex = $(this).parents('.tab').attr('id').charCodeAt(0)-65;
			2014_Brazil.groups[groupIndex].play($(this).parents(".matchRow").attr('class')[5], $(this).parent(".result").children(".score1").val(), $(this).parent(".result").children(".score2").val());
		});
		$("#buttons").on('click', "#save", function() {
			readAll();
		});
		$("#buttons").on('click', "#load", function() {
			loadTournament();
		});
	</script>
</body>
</html>
