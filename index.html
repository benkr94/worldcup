<html>
<head>
<title> FIFA World Cup 2014 - Choose Your Own Adventure</title>
<link rel='stylesheet' href='world_cup.css' />
<link rel='stylesheet' href='tabs.css' />
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" ></script>
</head>
<body>
	<div class="tabs">
		<ul class="tab-links">
		</ul>
		
		<div class="tab-content">
		</div>
	</div>
	<div id="buttons">
		<input type="button" id="save" value="Save scores"/>
	</div>
	<script src="groupStatus.js"></script>
	<script src="world_cup.js"></script>
	<script>
		for (var i = 0; i < 8; i++) {
			var groupTab = '<li><a href="#'+Groups[i].id+'">'+
								'<img src="flags/'+Groups[i].teams[0].id+'.png">'+
								'<img src="flags/'+Groups[i].teams[1].id+'.png">'+
								Groups[i].id+
								'<img src="flags/'+Groups[i].teams[2].id+'.png">'+
								'<img src="flags/'+Groups[i].teams[3].id+'.png">'+
						   '</a></li>';
			$('.tab-links').append(groupTab);
			var groupContent = '<div id="'+Groups[i].id+'" class="tab">'+
								'<div class="matches"></div>'+
								'<div class="groupTable"></div>'+
						   '</div>';
			$('.tab-content').append(groupContent);
			Groups[i].drawMatches();
			Groups[i].firstTable();
		}
        $('.tabs .tab-links a').on('click', function(e)  {
            var currentAttrValue = $(this).attr('href');
     
            // Show/Hide Tabs
            $('.tabs ' + currentAttrValue).show().siblings().hide();
     
            // Change/remove current tab to active
            $(this).parent('li').addClass('active').siblings().removeClass('active');
     
            e.preventDefault();
        });
		$(document).on('blur', '.score1, .score2', function() {
			var groupIndex = $(this).parents('.tab').attr('id').charCodeAt(0)-65;
			//alert("Match: "+$(this).parents(".matchRow").attr('class')[5] + " Score1: " + $(this).parent(".result").children(".score1").val() + " Score2: " + $(this).parent(".result").children(".score2").val());
			Groups[groupIndex].play($(this).parents(".matchRow").attr('class')[5], $(this).parent(".result").children(".score1").val(), $(this).parent(".result").children(".score2").val());
			//alert(Groups[groupIndex].teams[0].getStat("points"));
		});
	</script>
</body>
</html>
